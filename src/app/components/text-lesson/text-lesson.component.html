<h1>{{lesson.title}}</h1>
<div class="lessonwrapper">

  <div *ngFor="let section of lesson.sections" class="clear-floats">
    <h2>{{section.header}}</h2>

    <div *ngIf="section.imageAsset != null && section.imageAsset.position != position.below">
      <img src="assets/images/{{section.imageAsset.fileName}}" alt="{{section.imageAsset.altText}}" title="{{section.imageAsset.altText}}"
           class="section-image image-{{section.imageAsset.position}}">
    </div>

    <div *ngFor="let bodyLine of section.body">
      <p [innerHTML]="bodyLine"></p>
    </div>

    <div *ngIf="section.imageAsset != null && section.imageAsset.position === position.below" class="image-wrapper">
      <img src="assets/images/{{section.imageAsset.fileName}}" alt="{{section.imageAsset.altText}}" title="{{section.imageAsset.altText}}"
           class="section-image image-{{section.imageAsset.position}}"><br>
      <span class="image-caption" *ngIf="section.imageAsset.caption">{{section.imageAsset.caption}}</span>
    </div>

  </div>


  <hr>

  <div class="button-wrapper">
    <div class="button-row-item">
      <button (click)="goToPrevious()" *ngIf="!firstLessonInUnit">Return to Previous Lesson</button>
    </div>

    <div class="button-row-item">
      <button (click)="goToNext()" *ngIf="!lastLessonInUnit">Continue to Next Lesson</button>
    </div>
  </div>


  <div *ngIf="lesson.citations">
    <hr>
    <h2>
      Citations
    </h2>
    <div class="citation-wrapper">
      <div *ngFor="let citation of lesson.citations">
        <div class="citation">
          <div *ngIf="citation.link">
            <a href="{{citation.link}}" *ngIf="citation.link" target="_blank">
              {{citation.apaString}}
            </a>
          </div>
          <div *ngIf="!citation.link">
            {{citation.apaString}}
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="spacer"></div>
</div>
